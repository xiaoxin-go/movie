{"version":3,"sources":["webpack:///src/components/Recyle.vue","webpack:///./src/components/Recyle.vue?b380","webpack:///./src/components/Recyle.vue"],"names":["Recyle","data","total","page_size","page","data_list","loading","id_list","components","computed","get_page","this","$route","params","bid","parseInt","created","console","log","keyword","getData","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","jsonData","resp","wrap","_context","prev","next","Object","api","sent","stop","show","name","$router","push","path","restore","_this2","_callee2","len","_context2","length","$Message","warning","abrupt","Array","state","success","delData","_this3","_callee3","_context3","addFollow","id","_this4","_callee4","_context4","selectAll","map","item","changePage","index","changePagesize","watch","components_Recyle","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","fix","_e","_v","staticStyle","text-align","margin","width","model","value","callback","$$v","expression","_l","padding","background-color","on","click","$event","height","float","src","Math","random","alt","label","_s","position","top","left","z-index","margin-bottom","current","page-size","page-size-opts","show-total","show-elevator","show-sizer","on-change","on-page-size-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.e38d5c1337c975bdd001.js","sourcesContent":["<template>\n  <div class=\"main\">\n    <Spin size=\"large\" fix v-if=\"loading\"></Spin>\n    <div class=\"index-body\">\n      <div style=\"\n    text-align: left;\n    margin: auto;\n    width: 1376px;\">\n        <CheckboxGroup v-model=\"id_list\">\n        <div class=\"performer-item\" v-for=\"(data, index) in data_list\">\n            <div style=\"padding:8px;background-color: #fff;\" @click=\"show(data.name)\">\n              <div class=\"performer-item-img\">\n              <img style=\"height: 324px;float: right;\" :src=\"'/static/image/performer/' + data.name + '.jpg?' + Math.random()\" :alt=\"data.name\">\n              </div>\n            </div>\n            <div class=\"performer-item-text\">\n              <div class=\"performer-text-title\">\n                <Checkbox :label=\"data.id\"><span style=\"margin: 0;padding: 0;\"></span></Checkbox>\n                {{data.name}}\n                <Button @click=\"addFollow(data.id)\" size=\"small\">关注</Button>\n              </div>\n            </div>\n        </div>\n        </CheckboxGroup>\n      </div>\n\n      <div style=\"position: fixed;top:5px;left: 524px;width: 180px;z-index:2000\">\n        <b-button size=\"sm\"  @click=\"delData\">删除</b-button>\n        <b-button size=\"sm\" @click=\"restore\">还原</b-button>\n        <b-button size=\"sm\"  @click=\"selectAll\">全选</b-button>\n      </div>\n    </div>\n    <Page style=\"margin-bottom: 25px;\" :total=\"total\" :current=\"get_page\" :page-size=\"page_size\" :page-size-opts=\"[20,50,100,200,500]\" @on-change=\"changePage\" @on-page-size-change=\"changePagesize\" show-total show-elevator show-sizer />\n\n  </div>\n</template>\n\n<script>\n  import {getPerformerS,delPerformer, addFollow, restore} from '../api/index.js';\n    export default {\n      data(){\n        return{\n        total:0,          // 总条数\n          page_size:50,      // 每页条数\n          page:1,            // 当前页\n          data_list: [],     // 标签列表\n          loading:true,\n          id_list:[],\n      }\n    },\n      components:{\n      },\n      computed:{\n        // 获取当前页数\n        get_page() {\n          let page = this.$route.params.bid;\n          if(page){\n            return parseInt(page);\n          }\n          return 1\n        },\n      },\n      created(){\n        console.log(this.keyword);\n        this.getData()\n      },\n\n      methods: {\n        async getData() {\n          this.loading = true;\n          let jsonData = {\n            page: this.get_page,\n            page_size: this.page_size,\n            total: this.total,\n          };\n          let resp = await getPerformerS(jsonData);\n          this.total = resp.total;\n          console.log(resp);\n          if (this.total > 0) {\n            this.data_list = resp.data;\n          }\n          this.loading = false\n        },\n\n        show(name){\n          this.$router.push({path:`/performer/${name}`})\n        },\n        // 还原数据\n        async restore(){\n          let len = this.id_list.length;\n          if (len === 0){this.$Message.warning('Please select performer.');return}\n          let resp = await restore({id_list:Array(this.id_list)});\n          if (resp.state === 1){\n            this.total -= len;\n            this.$Message.success('演员还原成功')\n          }else{\n            this.$Message.warning('演员还原成功')\n          }\n          this.id_list = [];\n          this.getData();\n        },\n\n        // 彻底删除数据\n        async delData(){\n          console.log(this.id_list);\n          let len = this.id_list.length;\n          if (len === 0){this.$Message.warning('Please select performer.');return}\n          let resp = await delPerformer({id_list:Array(this.id_list)});\n          if (resp.state === 1){\n            this.total -= len;\n            this.$Message.success('演员删除成功')\n          }else{\n            this.$Message.warning('演员删除失败')\n          }\n          this.id_list = [];\n          this.getData();\n        },\n        //关注演员\n        async addFollow(id){\n          let resp = await addFollow({id:id});\n          if(resp.state === 0){\n            this.$Message.warning('用户未登录')\n          }else if(resp.state === 1){\n            this.$Message.success('关注成功')\n          }else{\n            this.$Message.success('关注失败')\n          }\n        },\n\n        // 全选\n        selectAll(){\n          if(this.id_list.length === this.data_list.length){\n            this.id_list = []\n          }else{\n            this.id_list = this.data_list.map(item=>item.id);\n          }\n        },\n\n\n        changePage(index){\n          this.$router.push(`/recyle/page/${index}`)\n        },\n\n        // 改变每页显示的条数\n        changePagesize(index){\n          this.page_size = index;\n          console.log('page_size:',this.page_size);\n          this.getData();\n        }\n      },\n      watch:{\n        \"$route\":function(){\n          this.getData();\n        }\n      }\n    }\n</script>\n\n<style scoped>\n  .performer-item{\n    background-color: #fafafa;\n    display: inline-block;\n    margin: 10px;\n    width: 244px;\n    text-align: center;\n    box-shadow: 0 1px 3px rgba(0,0,0,.3);\n  }\n  .performer-item-text{\n    font-size: 14px;\n    color: #000;\n  }\n  .performer-text-title{\n    height: 40px;\n    line-height: 40px;\n    overflow: hidden;\n  }\n  .performer-item-img{\n    width: 227px;\n    height: 324px;\n    overflow: hidden;\n  }\n  .performer-item-img:hover{\n    cursor: pointer;\n  }\n  /*.index-item:hover{*/\n    /*width: 60%;*/\n  /*}*/\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Recyle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[(_vm.loading)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"index-body\"},[_c('div',{staticStyle:{\"text-align\":\"left\",\"margin\":\"auto\",\"width\":\"1376px\"}},[_c('CheckboxGroup',{model:{value:(_vm.id_list),callback:function ($$v) {_vm.id_list=$$v},expression:\"id_list\"}},_vm._l((_vm.data_list),function(data,index){return _c('div',{staticClass:\"performer-item\"},[_c('div',{staticStyle:{\"padding\":\"8px\",\"background-color\":\"#fff\"},on:{\"click\":function($event){_vm.show(data.name)}}},[_c('div',{staticClass:\"performer-item-img\"},[_c('img',{staticStyle:{\"height\":\"324px\",\"float\":\"right\"},attrs:{\"src\":'/static/image/performer/' + data.name + '.jpg?' + Math.random(),\"alt\":data.name}})])]),_vm._v(\" \"),_c('div',{staticClass:\"performer-item-text\"},[_c('div',{staticClass:\"performer-text-title\"},[_c('Checkbox',{attrs:{\"label\":data.id}},[_c('span',{staticStyle:{\"margin\":\"0\",\"padding\":\"0\"}})]),_vm._v(\"\\n              \"+_vm._s(data.name)+\"\\n              \"),_c('Button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.addFollow(data.id)}}},[_vm._v(\"关注\")])],1)])])}))],1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"fixed\",\"top\":\"5px\",\"left\":\"524px\",\"width\":\"180px\",\"z-index\":\"2000\"}},[_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.delData}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.restore}},[_vm._v(\"还原\")]),_vm._v(\" \"),_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":_vm.selectAll}},[_vm._v(\"全选\")])],1)]),_vm._v(\" \"),_c('Page',{staticStyle:{\"margin-bottom\":\"25px\"},attrs:{\"total\":_vm.total,\"current\":_vm.get_page,\"page-size\":_vm.page_size,\"page-size-opts\":[20,50,100,200,500],\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePagesize}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d7d9386\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Recyle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d7d9386\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Recyle.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recyle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recyle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d7d9386\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Recyle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2d7d9386\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Recyle.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}