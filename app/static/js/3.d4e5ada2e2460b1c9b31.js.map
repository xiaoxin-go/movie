{"version":3,"sources":["webpack:///src/components/Follow.vue","webpack:///./src/components/Follow.vue?fe35","webpack:///./src/components/Follow.vue"],"names":["Follow","data","total","page_size","data_list","loading","components","computed","page","this","$route","params","bid","created","console","log","keyword","getData","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","jsonData","resp","wrap","_context","prev","next","Object","api","sent","stop","show","name","$router","push","path","delData","id","_this2","_callee2","_context2","state","$Message","success","warning","changePage","index","changePagesize","components_Follow","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","fix","_e","_v","_l","staticStyle","padding","background-color","on","click","$event","height","float","src","Math","random","alt","_s","margin-bottom","current","page-size","page-size-opts","show-elevator","show-sizer","on-change","on-page-size-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.d4e5ada2e2460b1c9b31.js","sourcesContent":["<template>\n  <div class=\"main\">\n    <Spin size=\"large\" fix v-if=\"loading\"></Spin>\n    <div class=\"index-body\">\n      <div>\n        <div class=\"performer-item\" v-for=\"(data, index) in data_list\">\n            <div style=\"padding:8px;background-color: #fff;\" @click=\"show(data.name)\"><div class=\"performer-item-img\">\n              <img style=\"height: 324px;float: right;\" :src=\"'/static/image/performer/' + data.name + '.jpg?' + Math.random()\" :alt=\"data.name\">\n            </div>\n            </div>\n            <div class=\"performer-item-text\">\n              <div class=\"performer-text-title\">{{data.name}}</div>\n              <button @click=\"delData(data.id)\">取消关注</button>\n            </div>\n        </div>\n      </div>\n    </div>\n    <Page style=\"margin-bottom: 25px;\" :total=\"total\" :current=\"page\" :page-size=\"page_size\" :page-size-opts=\"[20,50,100,200,500]\" @on-change=\"changePage\" @on-page-size-change=\"changePagesize\" show-elevator show-sizer />\n\n  </div>\n</template>\n\n<script>\n  import {getFollow,delFollow} from '../api/index.js';\n    export default {\n      data(){\n        return{\n        total:0,          // 总条数\n          page_size:200,      // 每页条数\n          //page:1,            // 当前页\n          data_list: [],     // 标签列表\n          loading:true,\n      }\n    },\n      components:{\n      },\n      computed:{\n        page() {\n          return this.$route.params.bid || 1\n        }\n      },\n      created(){\n        console.log(this.keyword);\n        this.getData()\n      },\n      methods: {\n        async getData() {\n          let jsonData = {\n            page: this.page,\n            page_size: this.page_size,\n            total: this.total,\n          };\n          let resp = await getFollow(jsonData);\n          this.total = resp.total;\n          console.log(resp);\n          if (this.total > 0) {\n            this.data_list = resp.data;\n          }\n          this.loading = false\n        },\n\n        show(name){\n          this.$router.push({path:`/performer/${name}`})\n        },\n        async delData(id){\n          let resp = await delFollow({id:id});\n          if (resp.state === 1){\n            this.$Message.success('取消关注成功')\n          }else{\n            this.$Message.warning('取消关注失败')\n          }\n          this.getData();\n        },\n        // 改变页数\n        /*changePage(index){\n          this.page = index;\n          console.log('page:',this.page);\n          this.getData();\n        },*/\n\n        changePage(index){\n          this.$router.push(`/page/${index}`)\n        },\n\n        // 改变每页显示的条数\n        changePagesize(index){\n          this.page_size = index;\n          console.log('page_size:',this.page_size);\n          this.getData();\n        }\n      }\n    }\n</script>\n\n<style>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Follow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[(_vm.loading)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"index-body\"},[_c('div',_vm._l((_vm.data_list),function(data,index){return _c('div',{staticClass:\"performer-item\"},[_c('div',{staticStyle:{\"padding\":\"8px\",\"background-color\":\"#fff\"},on:{\"click\":function($event){_vm.show(data.name)}}},[_c('div',{staticClass:\"performer-item-img\"},[_c('img',{staticStyle:{\"height\":\"324px\",\"float\":\"right\"},attrs:{\"src\":'/static/image/performer/' + data.name + '.jpg?' + Math.random(),\"alt\":data.name}})])]),_vm._v(\" \"),_c('div',{staticClass:\"performer-item-text\"},[_c('div',{staticClass:\"performer-text-title\"},[_vm._v(_vm._s(data.name))]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.delData(data.id)}}},[_vm._v(\"取消关注\")])])])}))]),_vm._v(\" \"),_c('Page',{staticStyle:{\"margin-bottom\":\"25px\"},attrs:{\"total\":_vm.total,\"current\":_vm.page,\"page-size\":_vm.page_size,\"page-size-opts\":[20,50,100,200,500],\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePagesize}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48df305c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Follow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48df305c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Follow.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Follow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Follow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48df305c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Follow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Follow.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}